# Teia Decentralized Trust Network

## Overview

A fully on-chain, transparent trust system for Teia (Tezos NFT platform) that enables decentralized content moderation through web-of-trust relationships. Users decide whose judgment they value rather than relying on centralized authority.

## Core Concept

Trust propagates through the network based on collection relationships and explicit vouches. Users see moderation signals from people they trust, creating a personalized, ungameable filtering system.

## Architecture

### Trust Registry Smart Contract

**Storage:**
- `trust_map`: (from_address, to_address) â†’ trust_weight
- `distrust_map`: (from_address, to_address) â†’ distrust_flag

**Actions:**
- `vouch(target_address, weight)` - Send explicit trust signal
- `distrust(target_address, reason_hash)` - Send explicit distrust signal
- `revoke_vouch(target_address)` - Remove trust signal
- `revoke_distrust(target_address)` - Remove distrust signal

### Trust Signals

Dual-Layer Architecture

We separate the network into two distinct layers to prevent "Trust" (validity) from being conflated with "Politics" (moderation).

Layer 1: The Validity Graph (Green Signals)

    Purpose: To verify that an account is a legitimate, active participant in the ecosystem (Sybil resistance).

    Propagation: Automatic/Implicit.

    Logic:

        If you collect from User A, you generate a Direct Trust (Depth 1) signal.

        If User A collects from User B, you see a Transitive Trust (Depth 2) signal for User B.

        Limit: Propagation stops strictly at Depth 2.

Layer 2: The Safety Layer (Red Signals)

    Purpose: To filter out spam, copymints, and malicious actors.

    Propagation: Opt-in Subscription.

    Logic:

        Default: All users subscribe to "Teia Moderation" banlist (Safe Default).

        Optional: Users can manually "Subscribe" to other users' banlists (e.g., a "Clean NFT" community list or a specific curator's list).

        Independence: Collecting from an artist does not automatically subscribe you to their banlist.

### Trust Score Calculation

Client-Side Trust Resolution

Instead of a single numerical score, the frontend resolves three distinct states (The "Traffic Light" System).

1. The Graph Query (Depth 2 Cap) When viewing a target profile, the client queries the indexer:

    Direct: Did the Viewer collect/vouch for Target?

    Indirect: Did any of the Viewer's connections collect/vouch for Target?

    Banlists: Is Target on any banlist the Viewer subscribes to?

2. Status Resolution (Priority Logic)

    ðŸ”´ BLOCKED (Red State)

        Trigger: Target appears on any banlist the Viewer subscribes to (Teia Default or custom).

        Action: Content blurred/hidden. "Blocked by [List Name]".

        Override: User can click to "View Anyway."

    ðŸŸ¢ TRUSTED (Green State)

        Trigger: Target has a Direct (Depth 1) or Indirect (Depth 2) connection to Viewer.

        Display:

            "Trusted by You"

            "Trusted by [Name] and 4 others you follow"

    ðŸŸ¡ UNKNOWN / CAUTION (Yellow State)

        Trigger: No connection found within Depth 2 AND not on any banlist.

        Display: "New or unconnected account."

        Context: Show account age (e.g., "First transaction: 2 hours ago").
### Teia Moderation Integration

**How it works:**
- Teia team operates regular addresses (no special contract authority)
- Team sends distrust signals like any user
- Users choose whether to trust Teia team's judgment
- Signals propagate naturally through trust network

**User control:**
- Opt-in to Teia moderation (collect from or vouch for Teia addresses)
- Opt-out completely (ignore Teia signals)
- See Teia's signals as recommendations even if not opted in

## Implementation Phases

Phase 1: "The Lens" (Read-Only / Interpretive)

    Goal: Visualize existing trust networks and filter spam without user cost.

    Infrastructure:

        Indexer: Scrapes all historical Teia/Objkt marketplace contracts. Builds a map of User -> Collected -> Creator.

        Banlist Provider: Fetches the current moderation list (e.g., from Teia's GitHub or API) as the default "Red" signal.

        Frontend: Implements the "Traffic Light" logic (Green = Collected by network / Red = On Banlist / Yellow = Unknown).

    User Action: None required. They just log in and see the badges.

    Cost: 0 Tezos.

Phase 2: "The Voice" (Active Participation)

    Goal: Allow users to signal trust/distrust explicitly without spending money on art.

    Infrastructure:

        Trust Registry Contract: Deployed to store Vouch (Green) and Subscribe_Banlist (Red) signals.

    Features:

        "Vouch" Button: Allows users to turn a Yellow profile Green without buying an NFT (useful for supporting new artists or friends).

        Custom Banlists: Users can subscribe to 3rd party curation lists (e.g., "CleanNFT List") via the contract.

    Cost: Gas fees for Vouching/Subscribing.

## Key Properties

**Transparency:**
- All attestations on-chain and auditable
- Trust calculation visible in frontend code
- No hidden algorithms or black boxes
- Users see exactly why they see what they see

**Sybil Resistance:**
- Trust must be earned through collections (costs real tez)
- Vouch actions cost gas
- Only see signals from accounts you chose to trust
- New accounts start with zero trust regardless

**User Sovereignty:**
- Decide whose judgment to value
- Opt-in to any moderation source
- Can ignore all signals and browse unfiltered
- No centralized authority required

**Attack Resistance:**
- Can't spam trust signals (gas costs)
- Can't game scores from outside trusted network
- Penalty propagation discourages vouching for strangers
- Time-weighted trust prevents instant trust farming

## Technical Considerations

Data Persistence & Failure States

    Indexer Snapshots: The indexer refreshes the "Depth 2" neighbor list for active users periodically (e.g., every 30 mins) rather than calculating on every request.

    Graceful Failure: If the Trust Indexer goes offline, the website reverts to "Raw Mode":

        Banlists checks fail open (or fallback to a hardcoded local list of worst offenders).

        Trust Badges disappear.

        The marketplace functions normally, just without the social signals.

    Privacy: Removed. All trust data is derived from public chain actions (collections/vouches). Users cannot opt-out of the dataset, but can choose to ignore the signals in their UI.

## Benefits for Teia

- Decentralized moderation aligned with platform ethos
- Reduces centralized moderation burden
- Respects user autonomy and choice
- Transparent and auditable system
- Minimal infrastructure requirements
- Naturally resistant to manipulation
- Scales with community growth

The "Cold Start" Experience

New users with no wallet history need protection and context immediately.

    Default Safety: Our indexer and web UI enables the "Teia Moderation" banlist by default. The new user sees no spam/malicious content.

    Default Trust: Since the user has no graph, they see everyone as Yellow (Unknown) unless the artist is verified by a "Global Anchor" (optional curated list of top Teia artists) or simply relying on the account age indicator.

    Building the Graph: As the user makes their first purchase (collects an NFT), they immediately generate a Depth 1 connection to that artist, and Depth 2 connections to that artist's network. The Yellow lights start turning Green naturally.


