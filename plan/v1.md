# Teia Decentralized Trust Network

## Overview

A fully on-chain, transparent trust system for Teia (Tezos NFT platform) that enables decentralized content moderation through web-of-trust relationships. Users decide whose judgment they value rather than relying on centralized authority.

## Core Concept

Trust propagates through the network based on collection relationships and explicit vouches. Users see moderation signals from people they trust, creating a personalized, ungameable filtering system.

## Architecture

### Trust Registry Smart Contract

**Storage:**
- `trust\_map`: (from\_address, to\_address) → trust\_weight
- `distrust\_map`: (from\_address, to\_address) → distrust\_flag

**Actions:**
- `vouch(target\_address, weight)` - Send explicit trust signal
- `distrust(target\_address, reason\_hash)` - Send explicit distrust signal
- `revoke\_vouch(target\_address)` - Remove trust signal
- `revoke\_distrust(target\_address)` - Remove distrust signal

### Trust Signals

**Implicit Trust (derived from existing on-chain data):**
- Direct collection: You collected from Address A (+2 points)
- Transitive collection: You collected from B, who collected from A (+1 point)
- Multi-depth: Up to 3-4 collection hops with decay (+0.5, +0.25)
- Collaborative artworks: Co-created with someone (+3 points)
- Time-weighted: Repeated collections increase weight

**Explicit Trust:**
- Manual "vouch" button on profiles (costs gas to prevent spam)
- Weight: +2.0 points

**Distrust Signals:**
- Any user can send distrust signals (costs gas)
- Optional reason hash linking to IPFS explanation
- Teia moderation team sends distrust as regular users
- Users opt into whose distrust signals they value

### Trust Score Calculation

**Client-side querying (no black box):**
When viewing an artist profile, frontend queries:
1. Who has current user collected from? (direct network)
2. Which accounts have those accounts collected from?
3. Which accounts have vouched for this artist?
4. Any distrust signals from user's network?

**Display logic:**
```
TrustScore = weighted\_sum of:
- Direct collections: weight 1.0
- 2nd degree collections: weight 0.4
- 3rd degree collections: weight 0.15
- Explicit vouches: weight 2.0
- Distrust signals: display separately, user decides
```

### Frontend Display

**On artist profiles:**
- "5 artists you collected from also collected from this artist"
- "3 accounts you trust have vouched for this artist"
- "2 accounts you trust have flagged this account" (with reasons)
- Optional: "Teia moderation flagged this account" (if user trusts Teia)

**Browse/filter features:**
- Sort by trust score
- Filter by minimum trust threshold
- Click to see detailed trust path
- View specific distrust signals with reasons

### Teia Moderation Integration

**How it works:**
- Teia team operates regular addresses (no special contract authority)
- Team sends distrust signals like any user
- Users choose whether to trust Teia team's judgment
- Signals propagate naturally through trust network

**User control:**
- Opt-in to Teia moderation (collect from or vouch for Teia addresses)
- Opt-out completely (ignore Teia signals)
- See Teia's signals as recommendations even if not opted in

## Implementation Phases

### Phase 1: Data Collection (Passive)
- Build indexer for existing marketplace contracts
- Extract all historical collection relationships
- Generate initial trust graph
- No user action required

### Phase 2: Attestation System
- Deploy Trust Registry contract
- Add "Vouch" and "Report" buttons to profiles
- Integrate with Tezos Domains for verified identities

### Phase 3: UI Integration
- Display trust indicators on profiles
- Add filter/sort by trust score
- Show trust paths and relationships
- Display distrust signals with reasons

### Phase 4: Moderation Tools
- Teia team addresses established
- Community report flow → team review → distrust signal
- User opt-in interface for Teia moderation
- Transparent signal history

## Key Properties

**Transparency:**
- All attestations on-chain and auditable
- Trust calculation visible in frontend code
- No hidden algorithms or black boxes
- Users see exactly why they see what they see

**Sybil Resistance:**
- Trust must be earned through collections (costs real tez)
- Vouch actions cost gas
- Only see signals from accounts you chose to trust
- New accounts start with zero trust regardless

**User Sovereignty:**
- Decide whose judgment to value
- Opt-in to any moderation source
- Can ignore all signals and browse unfiltered
- No centralized authority required

**Attack Resistance:**
- Can't spam trust signals (gas costs)
- Can't game scores from outside trusted network
- Penalty propagation discourages vouching for strangers
- Time-weighted trust prevents instant trust farming

## Technical Considerations

**Storage costs:**
- Minimal per attestation (single key-value pair)
- Users pay their own gas for signals
- No central subsidy required

**Indexing:**
- Simple read-only cache of collection relationships
- Speeds up frontend queries
- Not a black box - just caching public data
- Can be verified against on-chain data

**Privacy:**
- Attestations pseudonymous (Tezos addresses)
- No personal data required
- Can opt out of being in graph
- Off-chain calculation protects strategy

## Benefits for Teia

- Decentralized moderation aligned with platform ethos
- Reduces centralized moderation burden
- Respects user autonomy and choice
- Transparent and auditable system
- Minimal infrastructure requirements
- Naturally resistant to manipulation
- Scales with community growth
